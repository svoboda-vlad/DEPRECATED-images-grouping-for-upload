{"version":3,"sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/images-grouping/album.service.ts","./src/app/images-grouping/images-grouping.component.ts","./src/app/images-grouping/images-grouping.component.html","./src/app/images-grouping/media-item.service.ts","./src/environments/environment.ts","./src/main.ts","/home/vlada/eclipse-workspace/images-grouping-for-upload/node_modules/moment/locale|sync|/^\\.\\/.*$/"],"names":[],"mappings":"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,eAAe,CAAC,sDAAS,CAAC;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;ACXpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0B","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ImagesGroupingComponent } from './images-grouping/images-grouping.component';\n\n\nconst routes: Routes = [\n  { path: '', component: ImagesGroupingComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'igfu-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n}\n","<router-outlet></router-outlet>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { ImagesGroupingComponent } from './images-grouping/images-grouping.component';\nimport { NgxPicaModule } from '@digitalascetic/ngx-pica';\nimport { HttpClientModule } from '@angular/common/http';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { GoogleLoginProvider, SocialAuthServiceConfig, SocialLoginModule } from 'angularx-social-login';\nimport { environment } from '../environments/environment';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ImagesGroupingComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    NgxPicaModule,\n    HttpClientModule,\n    ReactiveFormsModule,\n    SocialLoginModule,\n    NgbModule\n  ],\n  providers: [    {\n    provide: 'SocialAuthServiceConfig',\n    useValue: {\n      autoLogin: false,\n      providers: [\n        {\n          id: GoogleLoginProvider.PROVIDER_ID,\n          provider: new GoogleLoginProvider(\n            environment.GOOGLE_CLIENT_ID\n          )\n        }\n      ]\n    } as SocialAuthServiceConfig,\n  }\n],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { IMediaItemsGroup } from './images-grouping.component';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AlbumService {\n  public albumsUrl = 'https://photoslibrary.googleapis.com/v1/albums';\n\n  constructor(private http: HttpClient) { }\n\n  albums(group: IMediaItemsGroup, accessToken: string): Observable<IAlbum> {\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Authorization': 'Bearer ' + accessToken,\n        'Content-type': 'application/json'\n      })\n    };\n    const album = new Album(group.name);\n    const body = {\n      \"album\": album\n    }\n\n    return this.http.post<IAlbum>(this.albumsUrl, body, httpOptions)\n    .pipe(catchError(error => this.handleError(error)));\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      // A client-side or network error occurred. Handle it accordingly.\n      console.error('An error occurred:', error.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong.\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    // Return an observable with a user-facing error message.\n    return throwError(error);\n  }\n\n}\n\nexport interface IAlbum {\n  title: string,\n  productUrl?: string,\n  id?: string,\n  isWriteable?: boolean\n}\n\nexport class Album implements IAlbum {\n  constructor(public title: string, public productUrl?: string, public id?: string, public isWriteable?: boolean) {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport * as moment from 'moment';\nimport { NgxPicaService, NgxPicaErrorInterface } from '@digitalascetic/ngx-pica';\nimport { NgxPicaResizeOptionsInterface } from '@digitalascetic/ngx-pica/lib/ngx-pica-resize-options.interface';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { MediaItemService, IMediaItemForGrouping, YesNo, MediaItemForGrouping, IMediaItem, MediaItem } from './media-item.service';\nimport { AlbumService } from './album.service';\nimport { GoogleLoginProvider, SocialAuthService, SocialUser } from 'angularx-social-login';\n\nexport const googleLoginOptions = {\n  scope: 'https://www.googleapis.com/auth/photoslibrary.appendonly'\n}\n\nexport const timeDiffDuplicateDefault = 0;\nexport const timeDiffGroupDefault = 7200;\nexport const resizeWidthDefault = 1000;\nexport const resizeHeightDefault = 1000;\n\n@Component({\n  selector: 'igfu-images-grouping',\n  templateUrl: './images-grouping.component.html',\n  styleUrls: ['./images-grouping.component.scss']\n})\nexport class ImagesGroupingComponent implements OnInit {\n\n  mediaItems: IMediaItem[] = [];\n  mediaItemsForGrouping: IMediaItemForGrouping[] = [];\n  timeDiffDuplicate: number;\n  mediaItemsGroups: IMediaItemsGroup[] = [];\n  timeDiffGroup: number;\n  uploadToken: string;\n  inputFilesForm = this.fb.group({\n    inputFiles: ''\n  });\n  filesLoaded: boolean = false;\n  filesCount: number;\n  groupsCreated: boolean = false;\n  uploadingStatus: UploadingStatus = UploadingStatus.None;\n\n  picaOptions: NgxPicaResizeOptionsInterface = {\n    exifOptions: {\n      forceExifOrientation: false\n    },\n    aspectRatio: {\n      keepAspectRatio: true\n    }\n  };\n  user: SocialUser;\n  loggedIn: boolean;\n  paramsForm = this.fb.group({\n    timeDiffDuplicate: [timeDiffDuplicateDefault, [\n      Validators.required,\n      Validators.min(0),\n      Validators.max(3600)\n    ]],\n    timeDiffGroup: [timeDiffGroupDefault, [\n      Validators.required,\n      Validators.min(60),\n      Validators.max(86400)\n    ]],\n    resizeWidth: [resizeWidthDefault, [\n      Validators.required,\n      Validators.min(1),\n      Validators.max(10000)\n    ]],\n    resizeHeight: [resizeHeightDefault, [\n      Validators.required,\n      Validators.min(1),\n      Validators.max(10000)\n    ]]\n  });\n  resizeWidth: number;\n  resizeHeight: number;\n  paramsFormShow: boolean = true;\n\n  constructor(private ngxPicaService: NgxPicaService,\n    private fb: FormBuilder,\n    private mediaItemService: MediaItemService,\n    private albumService: AlbumService,\n    private authService: SocialAuthService) { }\n\n  ngOnInit(): void {\n    this.authService.authState.subscribe((user) => {\n      this.user = user;\n      this.loggedIn = (user != null);\n    });\n  }\n\n  processFiles(files: FileList): void {\n    if (files.length > 0) {\n      this.filesCount = files.length;\n      this.emptyArrays();\n      this.getParamsResize();\n      this.getMediaItems(files);\n    }\n  }\n\n  private emptyArrays() : void {\n    this.mediaItems = [];\n    this.mediaItemsForGrouping = [];\n    this.mediaItemsGroups = [];\n    this.filesLoaded = false;\n    this.groupsCreated = false;\n    this.uploadingStatus = UploadingStatus.None;\n    this.paramsFormShow = false;\n  }\n\n  getMediaItems(fileList): void {\n    this.ngxPicaService.resizeImages(fileList, this.resizeWidth, this.resizeHeight, this.picaOptions).subscribe((file) => {\n      this.readFileBytes(file);\n    }, (err: NgxPicaErrorInterface) => {\n        throw err.err;\n    }, () => {\n      this.filesLoaded = true;\n    });\n  }\n\n  readFileBytes(file: File): void {\n    let readerBytes: FileReader = new FileReader();\n    readerBytes.addEventListener('load', (event: any) => {\n      this.readFileUrl(readerBytes, file);\n    }, false);\n    readerBytes.readAsArrayBuffer(file);\n  }\n\n  readFileUrl(readerBytes: FileReader, file: File): void {\n    let readerUrl: FileReader = new FileReader();\n    readerUrl.addEventListener('load', (event: any) => {\n      this.createMediaItem(file, readerBytes, readerUrl);\n    }, false);\n    readerUrl.readAsDataURL(file);\n  }\n\n  createMediaItem(file: File, readerBytes: FileReader, readerUrl: FileReader): void {\n    this.mediaItems.push(new MediaItem(file.name, moment(file.name, \"YYYYMMDD HHmmss\"), readerBytes.result, readerUrl.result));\n  }\n\n  createGroups(): void {\n    this.emptyArraysExceptMediaItems();\n    this.createMediaItemsForGrouping();\n    this.calculateTimeDiff();\n    this.getParamsTimeDiffs();\n    this.identifyDuplicates();\n    this.identifyGroups();\n    this.groupsCreated = true;\n  }\n\n  createMediaItemsForGrouping(): void {\n    this.mediaItems.sort((a, b) => {\n      let nameA = a.name.toUpperCase(); // ignore upper and lowercase\n      let nameB = b.name.toUpperCase(); // ignore upper and lowercase\n      if (nameA < nameB) {\n        return -1;\n      }\n      if (nameA > nameB) {\n        return 1;\n      }\n\n      // names must be equal\n      return 0;\n    });\n    this.mediaItems.forEach((item, i) => {\n      this.mediaItemsForGrouping.push(new MediaItemForGrouping(item, i + 1, 0));\n    });\n  }\n\n  calculateTimeDiff(): void {\n    this.mediaItemsForGrouping.forEach((item) => {\n      if (item.seqNo === 1) {\n        item.timeDiff = 0;\n      } else {\n        const prevItem = this.mediaItemsForGrouping.find((s) => s.seqNo === (item.seqNo - 1));\n        item.timeDiff = item.mediaItem.dateTime.diff(prevItem.mediaItem.dateTime, 'second');\n      }\n    });\n  }\n\n  identifyDuplicates(): void {\n    this.mediaItemsForGrouping.forEach((item) => {\n      if (item.seqNo > 1) {\n        if (item.timeDiff <= this.timeDiffDuplicate) item.isDuplicate = YesNo.Y;\n      }\n    });\n  }\n\n  identifyGroups(): void {\n    let group: IMediaItemsGroup;\n    let id = 1;\n    this.mediaItemsForGrouping.forEach((item, i) => {\n      let groupName: string = \"(new) \" + item.mediaItem.dateTime.format('YYYY-MM-DD') + \" místo (\" + item.mediaItem.dateTime.format('dddd H') + 'h)';\n      groupName = this.translateWeekdayNamesToCzech(groupName);\n      // if the first file in the sequence, create a new group\n      if (i === 0) {\n        group = new MediaItemsGroup(id, item.mediaItem.dateTime, item.mediaItem.dateTime, [item], groupName);\n        id++;\n      // if not the first file\n      } else {\n        // if a new group is identified, add current group and create a new group\n        if (item.timeDiff > this.timeDiffGroup) {\n          this.mediaItemsGroups.push(group);\n          group = new MediaItemsGroup(id, item.mediaItem.dateTime, item.mediaItem.dateTime, [item], groupName);\n          id++;\n        // if existing group, add the file to the group and update end time\n        } else {\n          group.mediaItemsForGrouping.push(item);\n          group.endTime = item.mediaItem.dateTime;\n        }\n      }\n      // if the last file in the sequence, add current group\n      if ((i + 1) === this.mediaItemsForGrouping.length) {\n        this.mediaItemsGroups.push(group);\n      }\n    });\n  }\n\n  getMediaItemsCount(): number {\n    let uniqueItemsCount = 0;\n    this.mediaItemsGroups.forEach((group) => {\n      uniqueItemsCount += group.mediaItemsForGrouping.length;\n    })\n    return uniqueItemsCount;\n  }\n\n  getDaysDiffFromToday(groupDate: moment.Moment, todayDay = moment(moment().format('YYYY-MM-DD'))): number {\n    const groupDateDay = moment(groupDate.format('YYYY-MM-DD'));\n    return groupDateDay.diff(todayDay, 'days');\n  }\n\n  updateGroupName(gr: IMediaItemsGroup, newName: string) {\n    this.mediaItemsGroups.forEach((group) => {\n      if (group.id === gr.id) {\n        group.name = newName;\n      }\n    });\n  }\n\n  private translateWeekdayNamesToCzech(name: string): string {\n    return name.replace(\"Monday\", \"pondělí\")\n      .replace(\"Tuesday\", \"úterý\")\n      .replace(\"Wednesday\", \"středa\")\n      .replace(\"Thursday\", \"čtvrtek\")\n      .replace(\"Friday\", \"pátek\")\n      .replace(\"Saturday\", \"sobota\")\n      .replace(\"Sunday\", \"neděle\");\n  }\n\n  // async/await + for...of loop to ensure sequential API calls\n  // not working with arrays' forEach() method\n  async createAlbumsAndMedia(): Promise<void> {\n    this.uploadingStatus = UploadingStatus.InProgress;\n    for (const group of this.mediaItemsGroups) {\n      if (group.albumId == null) {\n        await this.albumService.albums(group, this.user.authToken).toPromise().then(async (album) => {\n          group.albumId = album.id;\n          await this.createMedia(group);\n        })\n          .catch(() => this.uploadingStatus = UploadingStatus.Fail);\n      } else {\n        await this.createMedia(group);\n      }\n      // when API call error, then break the loop\n      if (this.uploadingStatus != UploadingStatus.InProgress) break;\n    }\n    this.uploadingStatus = (this.getMediaItemsCount() == this.getUploadedCount()) ? UploadingStatus.Success : UploadingStatus.Fail;\n  }\n\n  async createMedia(group: IMediaItemsGroup): Promise<void> {\n    for (const item of group.mediaItemsForGrouping) {\n      if (!item.mediaItem.uploadSuccess) {\n        await this.mediaItemService.uploads(item.mediaItem, this.user.authToken).toPromise().then(async (uploadToken: string) => {\n          await this.mediaItemService.batchCreate(item.mediaItem, uploadToken, this.user.authToken, group.albumId).toPromise().then(() => item.mediaItem.uploadSuccess = true)\n            .catch(() => this.uploadingStatus = UploadingStatus.Fail);\n        })\n          .catch(() => this.uploadingStatus = UploadingStatus.Fail);\n      }\n    }\n  }\n\n  removeGroup(gr: IMediaItemsGroup): void {\n    this.mediaItemsGroups.splice(this.mediaItemsGroups.indexOf(gr), 1);\n  }\n\n  changeShowGroup(gr: IMediaItemsGroup): void {\n    this.mediaItemsGroups.forEach((group) => {\n      if (group.id === gr.id) {\n        group.show = !group.show;\n      }\n    });\n  }\n\n  changeLargePreview(gr: IMediaItemsGroup): void {\n    this.mediaItemsGroups.forEach((group) => {\n      if (group.id === gr.id) {\n        group.largePreview = !group.largePreview;\n      }\n    });\n  }\n\n  getUploadedCount(): number {\n    let uploadedCount = 0;\n    this.mediaItemsGroups.forEach((group) => {\n      uploadedCount += group.getUploadedCount();\n    })\n    return uploadedCount;\n  }\n\n  signInWithGoogle(): void {\n    this.authService.signIn(GoogleLoginProvider.PROVIDER_ID, googleLoginOptions);\n  }\n\n  signOut(): void {\n    this.authService.signOut();\n  }\n\n  getParamsTimeDiffs(): void {\n    this.timeDiffDuplicate = this.paramsForm.get(['timeDiffDuplicate']).value;\n    this.timeDiffGroup = this.paramsForm.get(['timeDiffGroup']).value;\n  }\n\n  getParamsResize(): void {\n    this.resizeWidth = this.paramsForm.get(['resizeWidth']).value;\n    this.resizeHeight = this.paramsForm.get(['resizeHeight']).value;\n  }\n\n  private emptyArraysExceptMediaItems() : void {\n    this.mediaItemsForGrouping = [];\n    this.mediaItemsGroups = [];\n    this.groupsCreated = false;\n    this.uploadingStatus = UploadingStatus.None;\n  }\n\n  removeItemFromGroup(gr: IMediaItemsGroup, item: IMediaItemForGrouping): void {\n    this.mediaItemsGroups.forEach((group) => {\n      if (group.id === gr.id) {\n        group.mediaItemsForGrouping.splice(group.mediaItemsForGrouping.indexOf(item), 1);\n      }\n    });\n  }\n\n  changeParamsFormShow() {\n    this.paramsFormShow ? this.paramsFormShow = false : this.paramsFormShow = true;\n  }\n\n}\n\nexport interface IMediaItemsGroup {\n  id: number;\n  startTime: moment.Moment;\n  endTime: moment.Moment;\n  mediaItemsForGrouping: IMediaItemForGrouping[];\n  name: string;\n  albumId?: string;\n  show: boolean;\n  largePreview: boolean;\n\n  getUploadedCount(): number;\n}\n\nexport class MediaItemsGroup implements IMediaItemsGroup {\n  id: number;\n  startTime: moment.Moment;\n  endTime: moment.Moment;\n  mediaItemsForGrouping: IMediaItemForGrouping[];\n  name: string;\n  albumId?: string;\n  show: boolean;\n  largePreview: boolean;\n\n  constructor(id: number, startTime: moment.Moment, endTime: moment.Moment, mediaItemsForGrouping: IMediaItemForGrouping[], name: string) {\n    this.id = id;\n    this.startTime = startTime;\n    this.endTime = endTime;\n    this.mediaItemsForGrouping = mediaItemsForGrouping;\n    this.name = name;\n    this.show = true;\n    this.largePreview = true;\n  }\n\n  getUploadedCount() : number {\n    return this.mediaItemsForGrouping.filter((item) => item.mediaItem.uploadSuccess).length;\n  }\n}\n\nexport enum UploadingStatus {\n  None = 'None',\n  InProgress = 'InProgress',\n  Success = 'Success',\n  Fail = 'Fail'\n}\n","<h2 class=\"my-width mx-auto mb-2 p-3\">Grouping and resizing images for uploading to Google Photos</h2>\n\n<div *ngIf=\"!user\" class=\"card text-center\">\n  <div class=\"card-block\">\n    <h4 class=\"card-title\">Not signed in</h4>\n    <p class=\"card-text\">Sign in with</p>\n  </div>\n  <div class=\"card-block\">\n    <button class=\"btn btn-primary mb-2\" (click)=\"signInWithGoogle()\">Sign in with Google</button>\n  </div>\n</div>\n\n<div *ngIf=\"user\" class=\"card text-center\">\n  <div class=\"card-block\">\n    <h4 class=\"card-title\">{{ user.name }}</h4>\n    <p class=\"card-text\">{{ user.email }}</p>\n    <p class=\"card-text\">Logged in with {{ user.provider }}</p>\n  </div>\n  <div class=\"card-block\">\n    <button class=\"btn btn-danger\" (click)=\"signOut()\">Sign out</button>\n  </div>\n</div>\n\n<div class=\"my-width mx-auto mb-2 p-3\">\n  <h3>Parameters (grouping, resizing)\n    <button (click)=\"changeParamsFormShow()\" class=\"btn btn-primary m-2\">\n    {{ paramsFormShow ? 'Hide' : 'Show' }}\n  </button></h3>\n  <form [formGroup]=\"paramsForm\" *ngIf=\"paramsFormShow\">\n    <div class=\"form-group row\">\n      <label for=\"timeDiffDuplicate\" class=\"col-sm col-form-label\">Time diff for duplicates (in sec)</label>\n      <div class=\"col-sm\">\n        <input class=\"form-control\" id=\"timeDiffDuplicate\" type=\"text\" formControlName=\"timeDiffDuplicate\" />\n      </div>\n      <div class=\"card-text text-danger\" *ngIf=\"paramsForm.get(['timeDiffDuplicate']).errors\">\n        Time diff for duplicates (in sec) must be between 1 and 3600.\n      </div>\n    </div>\n    <div class=\"form-group row\">\n      <label for=\"timeDiffGroup\" class=\"col-sm col-form-label\">Time diff for groups (in sec)</label>\n      <div class=\"col-sm\">\n        <input class=\"form-control\" id=\"timeDiffGroup\" type=\"text\" formControlName=\"timeDiffGroup\" />\n      </div>\n      <div class=\"card-text text-danger\" *ngIf=\"paramsForm.get(['timeDiffGroup']).errors\">\n        Time diff for groups (in sec) must be between 60 and 86400.\n      </div>\n    </div>\n    <div class=\"form-group row\">\n      <label for=\"resizeWidth\" class=\"col-sm col-form-label\">Resize width (px)</label>\n      <div class=\"col-sm\">\n        <input class=\"form-control\" id=\"resizeWidth\" type=\"text\" formControlName=\"resizeWidth\" />\n      </div>\n      <div class=\"card-text text-danger\" *ngIf=\"paramsForm.get(['resizeWidth']).errors\">\n        Resize width (px) must be between 1 and 10000.\n      </div>\n    </div>\n    <div class=\"form-group row\">\n      <label for=\"resizeHeight\" class=\"col-sm col-form-label\">Resize height (px)</label>\n      <div class=\"col-sm\">\n        <input class=\"form-control\" id=\"resizeHeight\" type=\"text\" formControlName=\"resizeHeight\" />\n      </div>\n      <div class=\"card-text text-danger\" *ngIf=\"paramsForm.get(['resizeHeight']).errors\">\n        Resize height (px) must be between 1 and 10000.\n      </div>\n    </div>\n  </form>\n</div>\n\n<div class=\"card p-3 mb-2 bg-light text-dark my-width mx-auto\" *ngIf=\"paramsForm.status != 'VALID'\">\n  <div class=\"card-text text-danger\">\n    Parameters not valid\n  </div>\n</div>\n\n<form [formGroup]=\"inputFilesForm\" *ngIf=\"paramsForm.status == 'VALID'\">\n  <div class=\"form-group my-width mx-auto mb-2 p-3\">\n    <label for=\"inputFiles\">Select images for grouping</label>\n    <input class=\"form-control\" id=\"inputFiles\" #file type=\"file\" accept=\"image/*\" (change)=\"processFiles(file.files)\"\n      multiple />\n  </div>\n</form>\n\n<div class=\"card p-3 mb-2 bg-light text-dark my-width mx-auto\" *ngIf=\"filesCount\">\n  <div class=\"card-body\">\n    <p class=\"card-text text-danger\" *ngIf=\"mediaItems.length != filesCount\">Resizing in progress\n      ({{ mediaItems.length }} of {{ filesCount }})</p>\n    <p class=\"card-text text-primary\" *ngIf=\"mediaItems.length == filesCount\">Finished: {{ mediaItems.length }} files\n      resized to {{ resizeWidth }}x{{ resizeHeight }}px.</p>\n    <div *ngIf=\"filesLoaded\">\n      <button class=\"btn btn-primary mb-2\" (click)=\"createGroups()\">\n        Create groups\n      </button>\n      <p class=\"card-text\" *ngIf=\"getMediaItemsCount()\">\n        {{ getMediaItemsCount() }} images in {{ mediaItemsGroups.length }} groups\n      </p>\n    </div>\n  </div>\n</div>\n\n<div *ngIf=\"getMediaItemsCount()\">\n  <h3 class=\"my-width mx-auto mb-2 p-3\">Images in groups</h3>\n\n  <div class=\"my-width-groups mx-auto mb-2 p-3\">\n    <div *ngFor=\"let group of mediaItemsGroups\" class=\"card border p-3 mb-2\">\n      <!-- group header -->\n      <div class=\"card-header mb-2 p-3\">\n        <button (click)=\"changeShowGroup(group)\" class=\"btn btn-primary m-2\">\n          {{ group.show ? 'Hide ' : 'Show ' }} {{ group.mediaItemsForGrouping.length }} images\n        </button>\n        <button *ngIf=\"group.show\" (click)=\"changeLargePreview(group)\"\n            class=\"btn btn-secondary m-2\">{{ group.largePreview ? 'Small preview' : 'Large preview' }}</button>\n        <span class=\"font-weight-bold\" #groupName contenteditable (blur)=\"updateGroupName(group, groupName.textContent)\">{{ group.name }}</span>\n        <button (click)=\"removeGroup(group)\" class=\"btn btn-primary m-2\" *ngIf=\"group.show\">Remove group</button>\n      </div>\n\n      <!-- group images -->\n\n      <!-- bootstrap card -->\n      <div *ngIf=\"!group.largePreview\">\n        <div class=\"card-body group\" *ngIf=\"group.show\">\n          <div *ngFor=\"let item of group.mediaItemsForGrouping\">\n\n            <div class=\"file p-3 mb-2\">\n              {{ item.mediaItem.dateTime | date: \"HH:mm:ss\" }}<br />\n              <img class='small-img' [src]=\"item.mediaItem.contentUrl\" /><br />\n              <button (click)=\"removeItemFromGroup(group, item)\" class=\"btn btn-primary mb-2\">Remove</button>\n              <div>\n                {{ item.mediaItem.uploadSuccess ? \"Uploaded\" : \"Not uploaded\" }}\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n\n      <!-- bootstrap carousel -->\n      <div *ngIf=\"group.largePreview\" class=\"carousel-div\">\n        <ngb-carousel *ngIf=\"group.show\" [interval]=\"false\">\n            <ng-template ngbSlide *ngFor=\"let item of group.mediaItemsForGrouping\">\n              <div class=\"carousel-caption\">\n                <span class=\"bg-light text-primary m-2 p-2\">{{ item.mediaItem.dateTime | date: \"HH:mm:ss\" }}\n                ({{ item.mediaItem.uploadSuccess ? \"Uploaded\" : \"Not uploaded\" }})</span>\n                <button (click)=\"removeItemFromGroup(group, item)\" class=\"btn btn-primary mb-2\">Remove</button>\n              </div>\n              <div class=\"picsum-img-wrapper\">\n                <img [src]=\"item.mediaItem.contentUrl\" class=\"carousel-img d-block w-100\">\n              </div>\n            </ng-template>\n        </ngb-carousel>\n      </div>\n\n    </div>\n  </div>\n\n</div>\n\n<div *ngIf=\"mediaItemsGroups.length\">\n  <h3 class=\"my-width mx-auto mb-2 p-3\">Groups overview</h3>\n\n  <table class=\"table table-bordered my-width mx-auto p-3 mb-2\">\n    <th>Group</th>\n    <th>Days</th>\n    <th>Album</th>\n    <th>Files</th>\n    <th>Uploaded</th>\n    <th>Not uploaded</th>\n    <tr *ngFor=\"let group of mediaItemsGroups\">\n      <td>{{ group.name }}</td>\n      <td>{{ getDaysDiffFromToday(group.startTime) }}</td>\n      <td>{{ group.albumId ? 'CREATED' : 'not created' }}</td>\n      <td>{{ group.mediaItemsForGrouping.length }}</td>\n      <td>{{ group.getUploadedCount() }}</td>\n      <td>{{ group.mediaItemsForGrouping.length - group.getUploadedCount() }}</td>\n    </tr>\n    <tr>\n      <td>Total</td>\n      <td></td>\n      <td></td>\n      <td>{{ getMediaItemsCount() }}</td>\n      <td>{{ getUploadedCount() }}</td>\n      <td>{{ getMediaItemsCount() - getUploadedCount() }}</td>\n    </tr>\n  </table>\n\n  <h3 class=\"my-width mx-auto mb-2 p-3\">Upload to Google Photos</h3>\n\n  <div class=\"card p-3 mb-2 bg-light text-dark my-width mx-auto\">\n    <div class=\"card-body\">\n      <p class=\"card-text\">\n        <button (click)=\"createAlbumsAndMedia()\" class=\"btn btn-primary mb-2\" [disabled]=\"!user\">Create albums\n          and upload files to Google Photos</button>\n      </p>\n      <p class=\"card-text text-danger\" *ngIf=\"uploadingStatus == 'InProgress'\">UPLOADING IN PROGRESS</p>\n      <p class=\"card-text text-primary\" *ngIf=\"uploadingStatus == 'Success'\">UPLOADING SUCCESSFULLY FINISHED</p>\n      <p class=\"card-text text-danger\" *ngIf=\"uploadingStatus == 'Fail'\">UPLOADING FAILED (see the Groups Overview table\n        for details)</p>\n    </div>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MediaItemService {\n\n  public uploadsUrl = 'https://photoslibrary.googleapis.com/v1/uploads';\n  public batchCreateUrl = 'https://photoslibrary.googleapis.com/v1/mediaItems:batchCreate';\n\n  constructor(private http: HttpClient) { }\n\n  uploads(mediaItem: IMediaItem, accessToken: string): Observable<string> {\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Authorization': 'Bearer ' + accessToken,\n        'Content-type': 'application/octet-stream',\n        'X-Goog-Upload-Content-Type': 'mime-type',\n        'X-Goog-Upload-Protocol': 'raw'\n      }),\n      observe: \"body\" as const,\n      responseType: \"text\" as const\n    };\n    return this.http.post(this.uploadsUrl, mediaItem.contentBytes, httpOptions).pipe(catchError(error => this.handleError(error)));\n  }\n\n  batchCreate(mediaItem: IMediaItem, uploadToken: string, accessToken: string, albumId?: string): Observable<any> {\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Authorization': 'Bearer ' + accessToken,\n        'Content-type': 'application/json'\n      })\n    };\n\n    const body = {\n      \"albumId\": albumId,\n      \"newMediaItems\": [\n        {\n          \"description\": \"\",\n          \"simpleMediaItem\": {\n            \"fileName\": mediaItem.name,\n            \"uploadToken\": uploadToken\n          }\n        }\n      ]\n    }\n\n    return this.http.post(this.batchCreateUrl, body, httpOptions).pipe(catchError(error => this.handleError(error)));\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      // A client-side or network error occurred. Handle it accordingly.\n      console.error('An error occurred:', error.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong.\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    // Return an observable with a user-facing error message.\n    return throwError(error);\n  }\n\n}\n\nexport interface IMediaItem {\n  name: string;\n  dateTime: moment.Moment;\n  contentBytes: string | ArrayBuffer;\n  contentUrl: string | ArrayBuffer;\n  uploadSuccess?: boolean;\n}\n\nexport class MediaItem implements IMediaItem {\n  uploadSuccess: boolean = false;\n  constructor(public name: string, public dateTime: moment.Moment, public contentBytes: string | ArrayBuffer, public contentUrl: string | ArrayBuffer) { }\n}\n\nexport interface IMediaItemForGrouping {\n  mediaItem: IMediaItem;\n  seqNo: number;\n  timeDiff: number;\n  isDuplicate?: YesNo;\n}\n\nexport class MediaItemForGrouping implements IMediaItemForGrouping {\n  constructor(public mediaItem: IMediaItem, public seqNo: number, public timeDiff: number, public isDuplicate: YesNo = YesNo.N) { }\n}\n\nexport const enum YesNo {\n  Y = 'Y',\n  N = 'N'\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  GOOGLE_CLIENT_ID: '401460954055-6enk5fknh1gs1nfkpo0pf03orovdb3vm.apps.googleusercontent.com'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","var map = {\n\t\"./af\": 26431,\n\t\"./af.js\": 26431,\n\t\"./ar\": 81286,\n\t\"./ar-dz\": 1616,\n\t\"./ar-dz.js\": 1616,\n\t\"./ar-kw\": 9759,\n\t\"./ar-kw.js\": 9759,\n\t\"./ar-ly\": 43160,\n\t\"./ar-ly.js\": 43160,\n\t\"./ar-ma\": 62551,\n\t\"./ar-ma.js\": 62551,\n\t\"./ar-sa\": 79989,\n\t\"./ar-sa.js\": 79989,\n\t\"./ar-tn\": 6962,\n\t\"./ar-tn.js\": 6962,\n\t\"./ar.js\": 81286,\n\t\"./az\": 15887,\n\t\"./az.js\": 15887,\n\t\"./be\": 14572,\n\t\"./be.js\": 14572,\n\t\"./bg\": 3276,\n\t\"./bg.js\": 3276,\n\t\"./bm\": 93344,\n\t\"./bm.js\": 93344,\n\t\"./bn\": 58985,\n\t\"./bn.js\": 58985,\n\t\"./bo\": 94391,\n\t\"./bo.js\": 94391,\n\t\"./br\": 46728,\n\t\"./br.js\": 46728,\n\t\"./bs\": 5536,\n\t\"./bs.js\": 5536,\n\t\"./ca\": 41043,\n\t\"./ca.js\": 41043,\n\t\"./cs\": 70420,\n\t\"./cs.js\": 70420,\n\t\"./cv\": 33513,\n\t\"./cv.js\": 33513,\n\t\"./cy\": 6771,\n\t\"./cy.js\": 6771,\n\t\"./da\": 47978,\n\t\"./da.js\": 47978,\n\t\"./de\": 46061,\n\t\"./de-at\": 25204,\n\t\"./de-at.js\": 25204,\n\t\"./de-ch\": 2653,\n\t\"./de-ch.js\": 2653,\n\t\"./de.js\": 46061,\n\t\"./dv\": 85,\n\t\"./dv.js\": 85,\n\t\"./el\": 8579,\n\t\"./el.js\": 8579,\n\t\"./en-au\": 25724,\n\t\"./en-au.js\": 25724,\n\t\"./en-ca\": 10525,\n\t\"./en-ca.js\": 10525,\n\t\"./en-gb\": 52847,\n\t\"./en-gb.js\": 52847,\n\t\"./en-ie\": 67216,\n\t\"./en-ie.js\": 67216,\n\t\"./en-il\": 39305,\n\t\"./en-il.js\": 39305,\n\t\"./en-in\": 73364,\n\t\"./en-in.js\": 73364,\n\t\"./en-nz\": 79130,\n\t\"./en-nz.js\": 79130,\n\t\"./en-sg\": 11161,\n\t\"./en-sg.js\": 11161,\n\t\"./eo\": 50802,\n\t\"./eo.js\": 50802,\n\t\"./es\": 40328,\n\t\"./es-do\": 45551,\n\t\"./es-do.js\": 45551,\n\t\"./es-us\": 64790,\n\t\"./es-us.js\": 64790,\n\t\"./es.js\": 40328,\n\t\"./et\": 96389,\n\t\"./et.js\": 96389,\n\t\"./eu\": 52961,\n\t\"./eu.js\": 52961,\n\t\"./fa\": 26151,\n\t\"./fa.js\": 26151,\n\t\"./fi\": 7997,\n\t\"./fi.js\": 7997,\n\t\"./fil\": 58898,\n\t\"./fil.js\": 58898,\n\t\"./fo\": 37779,\n\t\"./fo.js\": 37779,\n\t\"./fr\": 28174,\n\t\"./fr-ca\": 3287,\n\t\"./fr-ca.js\": 3287,\n\t\"./fr-ch\": 38867,\n\t\"./fr-ch.js\": 38867,\n\t\"./fr.js\": 28174,\n\t\"./fy\": 50452,\n\t\"./fy.js\": 50452,\n\t\"./ga\": 45014,\n\t\"./ga.js\": 45014,\n\t\"./gd\": 74127,\n\t\"./gd.js\": 74127,\n\t\"./gl\": 72124,\n\t\"./gl.js\": 72124,\n\t\"./gom-deva\": 6444,\n\t\"./gom-deva.js\": 6444,\n\t\"./gom-latn\": 37953,\n\t\"./gom-latn.js\": 37953,\n\t\"./gu\": 76604,\n\t\"./gu.js\": 76604,\n\t\"./he\": 1222,\n\t\"./he.js\": 1222,\n\t\"./hi\": 74235,\n\t\"./hi.js\": 74235,\n\t\"./hr\": 622,\n\t\"./hr.js\": 622,\n\t\"./hu\": 37735,\n\t\"./hu.js\": 37735,\n\t\"./hy-am\": 90402,\n\t\"./hy-am.js\": 90402,\n\t\"./id\": 59187,\n\t\"./id.js\": 59187,\n\t\"./is\": 30536,\n\t\"./is.js\": 30536,\n\t\"./it\": 35007,\n\t\"./it-ch\": 94667,\n\t\"./it-ch.js\": 94667,\n\t\"./it.js\": 35007,\n\t\"./ja\": 62093,\n\t\"./ja.js\": 62093,\n\t\"./jv\": 80059,\n\t\"./jv.js\": 80059,\n\t\"./ka\": 66870,\n\t\"./ka.js\": 66870,\n\t\"./kk\": 80880,\n\t\"./kk.js\": 80880,\n\t\"./km\": 1083,\n\t\"./km.js\": 1083,\n\t\"./kn\": 68785,\n\t\"./kn.js\": 68785,\n\t\"./ko\": 21721,\n\t\"./ko.js\": 21721,\n\t\"./ku\": 37851,\n\t\"./ku.js\": 37851,\n\t\"./ky\": 1727,\n\t\"./ky.js\": 1727,\n\t\"./lb\": 40346,\n\t\"./lb.js\": 40346,\n\t\"./lo\": 93002,\n\t\"./lo.js\": 93002,\n\t\"./lt\": 64035,\n\t\"./lt.js\": 64035,\n\t\"./lv\": 56927,\n\t\"./lv.js\": 56927,\n\t\"./me\": 5634,\n\t\"./me.js\": 5634,\n\t\"./mi\": 94173,\n\t\"./mi.js\": 94173,\n\t\"./mk\": 86320,\n\t\"./mk.js\": 86320,\n\t\"./ml\": 11705,\n\t\"./ml.js\": 11705,\n\t\"./mn\": 31062,\n\t\"./mn.js\": 31062,\n\t\"./mr\": 92805,\n\t\"./mr.js\": 92805,\n\t\"./ms\": 11341,\n\t\"./ms-my\": 59900,\n\t\"./ms-my.js\": 59900,\n\t\"./ms.js\": 11341,\n\t\"./mt\": 37734,\n\t\"./mt.js\": 37734,\n\t\"./my\": 19034,\n\t\"./my.js\": 19034,\n\t\"./nb\": 9324,\n\t\"./nb.js\": 9324,\n\t\"./ne\": 46495,\n\t\"./ne.js\": 46495,\n\t\"./nl\": 70673,\n\t\"./nl-be\": 76272,\n\t\"./nl-be.js\": 76272,\n\t\"./nl.js\": 70673,\n\t\"./nn\": 72486,\n\t\"./nn.js\": 72486,\n\t\"./oc-lnc\": 46219,\n\t\"./oc-lnc.js\": 46219,\n\t\"./pa-in\": 2829,\n\t\"./pa-in.js\": 2829,\n\t\"./pl\": 78444,\n\t\"./pl.js\": 78444,\n\t\"./pt\": 53170,\n\t\"./pt-br\": 66117,\n\t\"./pt-br.js\": 66117,\n\t\"./pt.js\": 53170,\n\t\"./ro\": 96587,\n\t\"./ro.js\": 96587,\n\t\"./ru\": 39264,\n\t\"./ru.js\": 39264,\n\t\"./sd\": 42135,\n\t\"./sd.js\": 42135,\n\t\"./se\": 95366,\n\t\"./se.js\": 95366,\n\t\"./si\": 93379,\n\t\"./si.js\": 93379,\n\t\"./sk\": 46143,\n\t\"./sk.js\": 46143,\n\t\"./sl\": 196,\n\t\"./sl.js\": 196,\n\t\"./sq\": 21082,\n\t\"./sq.js\": 21082,\n\t\"./sr\": 91621,\n\t\"./sr-cyrl\": 98963,\n\t\"./sr-cyrl.js\": 98963,\n\t\"./sr.js\": 91621,\n\t\"./ss\": 41404,\n\t\"./ss.js\": 41404,\n\t\"./sv\": 55685,\n\t\"./sv.js\": 55685,\n\t\"./sw\": 46490,\n\t\"./sw.js\": 46490,\n\t\"./ta\": 54106,\n\t\"./ta.js\": 54106,\n\t\"./te\": 39204,\n\t\"./te.js\": 39204,\n\t\"./tet\": 83692,\n\t\"./tet.js\": 83692,\n\t\"./tg\": 86361,\n\t\"./tg.js\": 86361,\n\t\"./th\": 31735,\n\t\"./th.js\": 31735,\n\t\"./tk\": 1568,\n\t\"./tk.js\": 1568,\n\t\"./tl-ph\": 96129,\n\t\"./tl-ph.js\": 96129,\n\t\"./tlh\": 13759,\n\t\"./tlh.js\": 13759,\n\t\"./tr\": 81644,\n\t\"./tr.js\": 81644,\n\t\"./tzl\": 90875,\n\t\"./tzl.js\": 90875,\n\t\"./tzm\": 16878,\n\t\"./tzm-latn\": 11041,\n\t\"./tzm-latn.js\": 11041,\n\t\"./tzm.js\": 16878,\n\t\"./ug-cn\": 74357,\n\t\"./ug-cn.js\": 74357,\n\t\"./uk\": 74810,\n\t\"./uk.js\": 74810,\n\t\"./ur\": 86794,\n\t\"./ur.js\": 86794,\n\t\"./uz\": 28966,\n\t\"./uz-latn\": 77959,\n\t\"./uz-latn.js\": 77959,\n\t\"./uz.js\": 28966,\n\t\"./vi\": 35386,\n\t\"./vi.js\": 35386,\n\t\"./x-pseudo\": 23156,\n\t\"./x-pseudo.js\": 23156,\n\t\"./yo\": 68028,\n\t\"./yo.js\": 68028,\n\t\"./zh-cn\": 9330,\n\t\"./zh-cn.js\": 9330,\n\t\"./zh-hk\": 89380,\n\t\"./zh-hk.js\": 89380,\n\t\"./zh-mo\": 60874,\n\t\"./zh-mo.js\": 60874,\n\t\"./zh-tw\": 96508,\n\t\"./zh-tw.js\": 96508\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;"],"sourceRoot":"webpack:///"}